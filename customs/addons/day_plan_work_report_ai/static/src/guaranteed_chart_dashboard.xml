<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">
    <t t-name="day_plan_work_report_ai.GuaranteedChartDashboard" owl="1">
        <Layout className="'o_guaranteed_chart_dashboard'" display="{ controlPanel: { 'top-right': false, 'bottom-right': false } }">
            <div class="container-fluid pt-4">
                <!-- Header Section -->
                <div class="row mb-4">
                    <div class="col-12">
                        <div class="d-flex justify-content-between align-items-center">
                            <div>
                                <h1 class="h2 mb-0 text-primary">
                                    <i class="fa fa-chart-line me-2"></i>
                                    Guaranteed Working Chart Dashboard
                                </h1>
                                <p class="text-muted mb-0">Real-time analytics and performance metrics</p>
                            </div>
                            <div class="btn-group">
                                <button class="btn btn-outline-primary" t-on-click="refreshDashboard" title="Refresh Dashboard">
                                    <i class="fa fa-refresh me-1"></i>
                                    Refresh
                                </button>
                                <button class="btn btn-outline-secondary" t-on-click="printDashboard" title="Print Dashboard">
                                    <i class="fa fa-print me-1"></i>
                                    Print
                                </button>
                            </div>
                        </div>
                        <hr class="mt-3"/>
                    </div>
                </div>

                <!-- Loading Indicator -->
                <div t-if="state.loading" class="d-flex justify-content-center align-items-center py-5">
                    <div class="text-center">
                        <div class="spinner-border text-primary mb-3" role="status" style="width: 3rem; height: 3rem;">
                            <span class="visually-hidden">Loading...</span>
                        </div>
                        <p class="text-muted">Loading dashboard data...</p>
                    </div>
                </div>

                <!-- Error State -->
                <div t-elif="state.error" class="alert alert-danger d-flex align-items-center" role="alert">
                    <i class="fa fa-exclamation-triangle me-2"></i>
                    <div>
                        <strong>Error loading dashboard:</strong> <t t-esc="state.error"/>
                    </div>
                </div>

                <!-- Dashboard Content -->
                <div t-else="" class="dashboard-content">
                    <!-- KPI Cards Row -->
                    <div class="row mb-4">
                        <div class="col-lg-3 col-md-6 mb-3">
                            <div class="card border-left-primary shadow h-100">
                                <div class="card-body">
                                    <div class="row no-gutters align-items-center">
                                        <div class="col mr-2">
                                            <div class="text-xs font-weight-bold text-primary text-uppercase mb-1">
                                                Total Tasks
                                            </div>
                                            <div class="h5 mb-0 font-weight-bold text-gray-800">156</div>
                                        </div>
                                        <div class="col-auto">
                                            <i class="fa fa-tasks fa-2x text-gray-300"></i>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="col-lg-3 col-md-6 mb-3">
                            <div class="card border-left-success shadow h-100">
                                <div class="card-body">
                                    <div class="row no-gutters align-items-center">
                                        <div class="col mr-2">
                                            <div class="text-xs font-weight-bold text-success text-uppercase mb-1">
                                                Completion Rate
                                            </div>
                                            <div class="h5 mb-0 font-weight-bold text-gray-800">78%</div>
                                        </div>
                                        <div class="col-auto">
                                            <i class="fa fa-check-circle fa-2x text-gray-300"></i>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="col-lg-3 col-md-6 mb-3">
                            <div class="card border-left-info shadow h-100">
                                <div class="card-body">
                                    <div class="row no-gutters align-items-center">
                                        <div class="col mr-2">
                                            <div class="text-xs font-weight-bold text-info text-uppercase mb-1">
                                                Productivity Score
                                            </div>
                                            <div class="row no-gutters align-items-center">
                                                <div class="col-auto">
                                                    <div class="h5 mb-0 mr-3 font-weight-bold text-gray-800">8.4/10</div>
                                                </div>
                                                <div class="col">
                                                    <div class="progress progress-sm mr-2">
                                                        <div class="progress-bar bg-info" role="progressbar" style="width: 84%" aria-valuenow="84" aria-valuemin="0" aria-valuemax="100"></div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-auto">
                                            <i class="fa fa-tachometer-alt fa-2x text-gray-300"></i>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="col-lg-3 col-md-6 mb-3">
                            <div class="card border-left-warning shadow h-100">
                                <div class="card-body">
                                    <div class="row no-gutters align-items-center">
                                        <div class="col mr-2">
                                            <div class="text-xs font-weight-bold text-warning text-uppercase mb-1">
                                                Active Plans
                                            </div>
                                            <div class="h5 mb-0 font-weight-bold text-gray-800">23</div>
                                        </div>
                                        <div class="col-auto">
                                            <i class="fa fa-calendar-alt fa-2x text-gray-300"></i>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Charts Row -->
                    <div class="row">
                        <!-- Line Chart -->
                        <div class="col-lg-8 mb-4">
                            <div class="card shadow">
                                <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                                    <h6 class="m-0 font-weight-bold text-primary">
                                        <i class="fa fa-chart-line me-2"></i>
                                        Productivity Trend Analysis
                                    </h6>
                                    <div class="dropdown no-arrow">
                                        <a class="dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                            <i class="fa fa-ellipsis-v fa-sm fa-fw text-gray-400"></i>
                                        </a>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <div class="chart-area" style="height: 320px; position: relative;">
                                        <canvas t-ref="lineChart" style="display: block; width: 100%; height: 100%;"></canvas>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Pie Chart -->
                        <div class="col-lg-4 mb-4">
                            <div class="card shadow">
                                <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                                    <h6 class="m-0 font-weight-bold text-primary">
                                        <i class="fa fa-chart-pie me-2"></i>
                                        Task Distribution
                                    </h6>
                                </div>
                                <div class="card-body">
                                    <div class="chart-pie pt-4 pb-2" style="height: 320px; position: relative;">
                                        <canvas t-ref="pieChart" style="display: block; width: 100%; height: 100%;"></canvas>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Bar Chart Row -->
                    <div class="row">
                        <div class="col-12 mb-4">
                            <div class="card shadow">
                                <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                                    <h6 class="m-0 font-weight-bold text-primary">
                                        <i class="fa fa-chart-bar me-2"></i>
                                        Monthly Performance Overview
                                    </h6>
                                    <div class="badge badge-primary">Last 4 Weeks</div>
                                </div>
                                <div class="card-body">
                                    <div class="chart-bar" style="height: 280px; position: relative;">
                                        <canvas t-ref="barChart" style="display: block; width: 100%; height: 100%;"></canvas>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </Layout>
    </t>
</templates>