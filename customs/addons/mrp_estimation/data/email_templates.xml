<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="1">
        <!-- Email template for estimation approval -->
        <record id="email_template_estimation_approval" model="mail.template">
            <field name="name">Manufacturing Estimation: Approval Request</field>
            <field name="model_id" ref="model_mrp_estimation"/>
            <field name="subject">Estimation ${object.name} Requires Your Approval</field>
            <field name="email_from">${user.email_formatted | safe}</field>
            <field name="partner_to">${object.approver_id.partner_id.id}</field>
            <field name="body_html" type="html">
                <div style="margin: 0px; padding: 0px;">
                    <p style="margin: 0px; padding: 0px; font-size: 13px;">
                        Dear ${object.approver_id.name},
                        <br/><br/>
                        The manufacturing estimation <strong>${object.name}</strong> requires your approval.
                        <br/><br/>
                        You can access the estimation using the following link:
                        <br/>
                        <a href="/web#id=${object.id}&amp;model=mrp.estimation&amp;view_type=form" style="background-color: #875A7B; padding: 8px 16px 8px 16px; text-decoration: none; color: #fff; border-radius: 5px; font-size:13px;">
                            View Estimation
                        </a>
                        <br/><br/>
                        Best regards,
                        <br/>
                        ${user.name}
                    </p>
                </div>
            </field>
            <field name="lang">${object.partner_id.lang}</field>
            <field name="auto_delete" eval="True"/>
        </record>

        <!-- Email template for estimation completion -->
        <record id="email_template_estimation_complete" model="mail.template">
            <field name="name">Manufacturing Estimation: Completed</field>
            <field name="model_id" ref="model_mrp_estimation"/>
            <field name="subject">Manufacturing Estimation ${object.name} Completed</field>
            <field name="email_from">${user.email_formatted | safe}</field>
            <field name="partner_to">${object.partner_id.id}</field>
            <field name="body_html" type="html">
                <div style="margin: 0px; padding: 0px;">
                    <p style="margin: 0px; padding: 0px; font-size: 13px;">
                        Dear ${object.partner_id.name},
                        <br/><br/>
                        Your manufacturing estimation <strong>${object.name}</strong> has been completed.
                        <br/><br/>
                        Total Estimated Cost: ${object.currency_id.symbol}${object.total_amount}
                        <br/><br/>
                        You can view the complete estimation details in your portal:
                        <br/>
                        <a href="/my/estimation/${object.id}" style="background-color: #875A7B; padding: 8px 16px 8px 16px; text-decoration: none; color: #fff; border-radius: 5px; font-size:13px;">
                            View in Portal
                        </a>
                        <br/><br/>
                        Best regards,
                        <br/>
                        ${user.company_id.name}
                    </p>
                </div>
            </field>
            <field name="lang">${object.partner_id.lang}</field>
            <field name="auto_delete" eval="True"/>
        </record>
    </data>
</odoo> 