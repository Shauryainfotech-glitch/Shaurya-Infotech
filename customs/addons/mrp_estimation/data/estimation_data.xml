<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="0">
        
        <!-- Default Manufacturing Cost Product -->
        <record id="product_manufacturing_cost" model="product.product">
            <field name="name">Manufacturing Cost</field>
            <field name="default_code">MFG-COST</field>
            <field name="type">service</field>
            <field name="categ_id" ref="product.product_category_all"/>
            <field name="standard_price">0.0</field>
            <field name="list_price">0.0</field>
            <field name="sale_ok">True</field>
            <field name="purchase_ok">False</field>
            <field name="uom_id" ref="uom.product_uom_unit"/>
            <field name="uom_po_id" ref="uom.product_uom_unit"/>
            <field name="description">Service product for manufacturing costs in estimations</field>
        </record>

        <!-- Email Template for Estimation -->
        <record id="email_template_estimation" model="mail.template">
            <field name="name">Estimation - Send by Email</field>
            <field name="model_id" ref="model_mrp_estimation"/>
            <field name="subject">Manufacturing Estimation ${object.name}</field>
            <field name="email_from">${(object.user_id.email_formatted or user.email_formatted)|safe}</field>
            <field name="email_to">${object.partner_id.email|safe}</field>
            <field name="partner_to">${object.partner_id.id}</field>
            <field name="body_html" type="html">
<div style="margin: 0px; padding: 0px;">
    <p style="margin: 0px; padding: 0px; font-size: 13px;">
        Dear ${object.partner_id.name},<br/><br/>
        Please find attached our manufacturing estimation <strong>${object.name}</strong> for your product <strong>${object.product_id.name}</strong>.
        <br/><br/>
        <strong>Estimation Details:</strong><br/>
        - Product: ${object.product_id.name}<br/>
        - Quantity: ${object.product_qty} ${object.product_uom_id.name}<br/>
        - Total Amount: ${object.estimation_total} ${object.currency_id.name}<br/>
        - Valid Until: ${object.validity_date or 'Not specified'}<br/>
        <br/>
        You can review this estimation online by clicking <a href="${object.get_portal_url()}">here</a>.
        <br/><br/>
        If you have any questions, please feel free to contact us.
        <br/><br/>
        Best regards,<br/>
        ${object.user_id.signature | safe}
    </p>
</div>
            </field>
            <field name="report_template" ref="action_report_estimation"/>
            <field name="report_name">Estimation_${(object.name or '').replace('/','_')}</field>
            <field name="lang">${object.partner_id.lang}</field>
            <field name="auto_delete" eval="True"/>
        </record>

        <!-- Report Action -->
        <record id="action_report_estimation" model="ir.actions.report">
            <field name="name">Manufacturing Estimation</field>
            <field name="model">mrp.estimation</field>
            <field name="report_type">qweb-pdf</field>
            <field name="report_name">mrp_estimation.report_estimation</field>
            <field name="report_file">mrp_estimation.report_estimation</field>
            <field name="binding_model_id" ref="model_mrp_estimation"/>
            <field name="binding_type">report</field>
        </record>

        <!-- Configuration Parameters -->
        <record id="config_estimation_sequence_prefix" model="ir.config_parameter">
            <field name="key">mrp_estimation.sequence_prefix</field>
            <field name="value">EST</field>
        </record>

        <record id="config_version_increment" model="ir.config_parameter">
            <field name="key">mrp_estimation.version_increment</field>
            <field name="value">0.1</field>
        </record>

        <record id="config_default_material_markup" model="ir.config_parameter">
            <field name="key">mrp_estimation.default_material_markup</field>
            <field name="value">10.0</field>
        </record>

        <record id="config_default_cost_markup" model="ir.config_parameter">
            <field name="key">mrp_estimation.default_cost_markup</field>
            <field name="value">15.0</field>
        </record>

    </data>
</odoo>